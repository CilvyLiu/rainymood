<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nova's Pensieve</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background-color: #000; overflow: hidden; color: white; font-family: serif; }

        #main-stage {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url("pensive.png") center center no-repeat;
            background-size: cover; z-index: 1;
            transition: background-image 1.5s ease-in-out;
        }

        /* ç»†é›¨å±‚ï¼šä¸¤å±‚å åŠ äº§ç”Ÿæ™¯æ·± */
        .rain {
            position: absolute; top: -100%; left: -10%; width: 120%; height: 200%;
            background: url("stardust.png") repeat;
            pointer-events: none; z-index: 3;
            mix-blend-mode: screen;
        }

        /* ç¬¬ä¸€å±‚ï¼šæç»†å¯†çš„åº•é›¨ */
        #rain-1 {
            background-size: 150px; /* é¢—ç²’æå° */
            opacity: 0.3;
            animation: fine-rain 3s linear infinite;
        }

        /* ç¬¬äºŒå±‚ï¼šç¨æ˜æ˜¾çš„æ–œæ é›¨ */
        #rain-2 {
            background-size: 250px;
            opacity: 0.2;
            animation: fine-rain 2s linear infinite;
            filter: blur(1px); /* æ¨¡ç³Šå¤„ç†ï¼Œå¢åŠ è·ç¦»æ„Ÿ */
        }

        @keyframes fine-rain {
            from { transform: translate(0, 0); }
            to { transform: translate(15px, 50%); } /* å‘å³ä¸‹æ–œè½ */
        }

        #glass-mask {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.45);
            backdrop-filter: blur(3px); /* å¼ºåŒ–é›¾æ°”æ„Ÿ */
            z-index: 2;
        }

        /* UI ä¿æŒä¸€è‡´ */
        .content { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: space-between; align-items: center; padding: 40px 20px; box-sizing: border-box; }
        .nav-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; width: 100%; max-width: 600px; }
        @media (max-width: 600px) { .nav-grid { grid-template-columns: repeat(2, 1fr); } }
        .nav-card { background: rgba(0, 0, 0, 0.5); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 15px; text-align: center; text-decoration: none; color: white; backdrop-filter: blur(10px); transition: 0.3s; }
        .controls-panel { background: rgba(0, 0, 0, 0.7); padding: 20px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.2); display: flex; flex-direction: column; gap: 15px; width: 90%; max-width: 400px; }
        .sliders { display: flex; justify-content: space-around; align-items: center; }
        button { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body onclick="autoPlay()">

    <div id="main-stage">
        <div id="glass-mask"></div>
        <div id="rain-1" class="rain"></div>
        <div id="rain-2" class="rain"></div>
    </div>

    <div class="content">
        <div class="header">
            <h1 style="letter-spacing: 12px; font-weight: 200;">THE PENSIEVE</h1>
            <p id="clock" style="opacity: 0.5; font-size: 12px; margin-top: 10px;"></p>
        </div>

        <div class="nav-grid">
            <a href="https://gringott.streamlit.app/" target="_blank" class="nav-card">ğŸ¦<br>å¤çµé˜</a>
            <a href="https://wwskygazer.streamlit.app/" target="_blank" class="nav-card">ğŸ¾<br>å—…å—…æ¢æµ‹</a>
            <a href="https://newscil.streamlit.app/" target="_blank" class="nav-card">ğŸ“œ<br>é¢„è¨€æ—¥æŠ¥</a>
            <a href="https://skygazer111.streamlit.app/" target="_blank" class="nav-card">ğŸ”®<br>æˆ˜ç•¥çœ‹æ¿</a>
        </div>

        <div class="controls-panel">
            <div class="sliders">
                <span>ğŸ”Š <input type="range" id="vol" min="0" max="1" step="0.1" value="0.5" oninput="sync()"></span>
                <span>ğŸŒ§ï¸ <input type="range" id="rain-ctrl" min="0" max="1" step="0.1" value="0.5" oninput="sync()"></span>
                <button id="pbtn" onclick="toggle(event)">PLAY</button>
            </div>
            <div style="display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;">
                <button onclick="change('pensive.png')">1</button>
                <button onclick="change('train.png')">2</button>
                <button onclick="change('window.png')">3</button>
                <button onclick="change('beach.png')">4</button>
                <button onclick="change('mountain.png')">5</button>
            </div>
        </div>
    </div>

    <audio id="audio" loop src="0.m4a"></audio>

    <script>
        const audio = document.getElementById('audio');
        const stage = document.getElementById('main-stage');
        const pbtn = document.getElementById('pbtn');
        const r1 = document.getElementById('rain-1');
        const r2 = document.getElementById('rain-2');

        function change(img) { stage.style.backgroundImage = "url('" + img + "')"; }
        
        function sync() {
            audio.volume = document.getElementById('vol').value;
            const op = document.getElementById('rain-ctrl').value;
            r1.style.opacity = op * 0.6;
            r2.style.opacity = op * 0.4;
        }

        function autoPlay() { if(audio.paused) { audio.play().then(() => pbtn.innerText = "STOP").catch(e => {}); } }

        function toggle(e) {
            e.stopPropagation();
            if(audio.paused) { audio.play(); pbtn.innerText = "STOP"; }
            else { audio.pause(); pbtn.innerText = "PLAY"; }
        }

        setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleString(); }, 1000);
        window.onload = () => { sync(); };
    </script>
</body>
</html>
